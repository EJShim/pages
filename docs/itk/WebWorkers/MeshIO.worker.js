(function(){function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s}return e})()({1:[function(require,module,exports){
"use strict";function _toConsumableArray(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RegisterPromise(e){var t=_defineProperty({},DEFAULT_HANDLER,e),r=self.postMessage.bind(self),n=new(function(e){function n(){return _classCallCheck(this,n),_possibleConstructorReturn(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return _inherits(n,e),_createClass(n,[{key:"emit",value:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];return r({eventName:e,args:n}),this}},{key:"emitLocally",value:function(e){for(var t,r=arguments.length,o=Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];(t=_get(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"emit",this)).call.apply(t,[this,e].concat(o))}},{key:"operation",value:function(e,r){return t[e]=r,this}}]),n}(TinyEmitter)),o=function(e,t,r){var n=function(t){t&&t instanceof TransferableResponse?a(e,RESULT_SUCCESS,t.payload,t.transferable):a(e,RESULT_SUCCESS,t)},o=function(t){a(e,RESULT_ERROR,{message:t.message,stack:t.stack})};try{var s=i(e,t,r);isPromise(s)?s.then(n).catch(o):n(s)}catch(e){o(e)}},i=function(e,r,n){var o=t[n||DEFAULT_HANDLER];if(!o)throw new Error("Not found handler for this request");return o(r,s.bind(null,e))},a=function(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];r([MESSAGE_RESULT,e,t,n],o)},s=function(e,t,n){if(!t)throw new Error("eventName is required");if("string"!=typeof t)throw new Error("eventName should be string");r([MESSAGE_EVENT,e,t,n])};return self.addEventListener("message",function(e){var t=e.data;Array.isArray(t)?o.apply(void 0,_toConsumableArray(t)):t&&t.eventName&&n.emitLocally.apply(n,[t.eventName].concat(_toConsumableArray(t.args)))}),n}var _createClass=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),_get=function e(t,r,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,r);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in o)return o.value;var a=o.get;if(void 0!==a)return a.call(n)},_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},TinyEmitter=require("./tiny-emitter"),MESSAGE_RESULT=0,MESSAGE_EVENT=1,RESULT_ERROR=0,RESULT_SUCCESS=1,DEFAULT_HANDLER="main",isPromise=function(e){return"object"===(void 0===e?"undefined":_typeof(e))&&"function"==typeof e.then&&"function"==typeof e.catch},TransferableResponse=function e(t,r){_classCallCheck(this,e),this.payload=t,this.transferable=r};module.exports=RegisterPromise,module.exports.TransferableResponse=TransferableResponse;
},{"./tiny-emitter":2}],2:[function(require,module,exports){
"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),TinyEmitter=function(){function e(){_classCallCheck(this,e),Object.defineProperty(this,"__listeners",{value:{},enumerable:!1,writable:!1})}return _createClass(e,[{key:"emit",value:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=!0,s=!1,a=void 0;try{for(var l,o=this.__listeners[e][Symbol.iterator]();!(i=(l=o.next()).done);i=!0){l.value.apply(void 0,n)}}catch(e){s=!0,a=e}finally{try{!i&&o.return&&o.return()}finally{if(s)throw a}}return this}},{key:"once",value:function(e,t){var n=this,r=function r(){n.off(e,r),t.apply(void 0,arguments)};return this.on(e,r)}},{key:"on",value:function(e,t){return this.__listeners[e]||(this.__listeners[e]=[]),this.__listeners[e].push(t),this}},{key:"off",value:function(e,t){return this.__listeners[e]=t?this.__listeners[e].filter(function(e){return e!==t}):[],this}}]),e}();module.exports=TinyEmitter;
},{}],3:[function(require,module,exports){
"use strict";var Float32="float",Float64="double",SpacePrecisionType="double";module.exports={Float32:Float32,Float64:Float64,SpacePrecisionType:SpacePrecisionType};

},{}],4:[function(require,module,exports){
"use strict";var Int8="int8_t",UInt8="uint8_t",Int16="int16_t",UInt16="uint16_t",Int32="int32_t",UInt32="uint32_t",Int64="int64_t",UInt64="uint64_t",SizeValueType=UInt64,IdentifierType=SizeValueType,IndexValueType=Int64,OffsetValueType=Int64;module.exports={Int8:Int8,UInt8:UInt8,Int16:Int16,UInt16:UInt16,Int32:Int32,UInt32:UInt32,Int64:Int64,UInt64:UInt64,SizeValueType:SizeValueType,IdentifierType:IdentifierType,IndexValueType:IndexValueType,OffsetValueType:OffsetValueType};

},{}],5:[function(require,module,exports){
"use strict";var MeshType=require("./MeshType.js"),Mesh=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new MeshType;this.meshType=e,this.name="Mesh",this.numberOfPoints=0,this.points=new ArrayBuffer(0),this.numberOfPointPixels=0,this.pointData=new ArrayBuffer(0),this.numberOfCells=0,this.cells=new ArrayBuffer(0),this.numberOfCellPixels=0,this.cellData=new ArrayBuffer(0),this.cellBufferSize=0};module.exports=Mesh;

},{"./MeshType.js":7}],6:[function(require,module,exports){
"use strict";var MeshIOIndex=["itkVTKPolyDataMeshIOJSBinding"];module.exports=MeshIOIndex;

},{}],7:[function(require,module,exports){
"use strict";var IntTypes=require("./IntTypes.js"),FloatTypes=require("./FloatTypes.js"),PixelTypes=require("./PixelTypes.js"),MeshType=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:FloatTypes.Float32,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:PixelTypes.Scalar,l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:IntTypes.Int32,n=arguments.length>5&&void 0!==arguments[5]?arguments[5]:PixelTypes.Scalar,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:1;this.dimension=e,this.pointComponentType=t,this.pointPixelType=i,this.pointPixelComponents=l,this.cellComponentType=s,this.cellPixelType=n,this.cellPixelComponents=o};module.exports=MeshType;

},{"./FloatTypes.js":3,"./IntTypes.js":4,"./PixelTypes.js":9}],8:[function(require,module,exports){
"use strict";var mimeToIO={};module.exports=mimeToIO;

},{}],9:[function(require,module,exports){
"use strict";var Unknown=0,Scalar=1,RGB=2,RGBA=3,Offset=4,Vector=5,Point=6,CovariantVector=7,SymmetricSecondRankTensor=8,DiffusionTensor3D=9,Complex=10,FixedArray=11,Array=12,Matrix=13,VariableLengthVector=14,VariableSizeMatrix=15;module.exports={Unknown:Unknown,Scalar:Scalar,RGB:RGB,RGBA:RGBA,Offset:Offset,Vector:Vector,Point:Point,CovariantVector:CovariantVector,SymmetricSecondRankTensor:SymmetricSecondRankTensor,DiffusionTensor3D:DiffusionTensor3D,Complex:Complex,FixedArray:FixedArray,Array:Array,Matrix:Matrix,VariableLengthVector:VariableLengthVector,VariableSizeMatrix:VariableSizeMatrix};

},{}],10:[function(require,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var _register=require("webworker-promise/lib/register"),_register2=_interopRequireDefault(_register),_MimeToMeshIO=require("../MimeToMeshIO"),_MimeToMeshIO2=_interopRequireDefault(_MimeToMeshIO),_getFileExtension=require("../getFileExtension"),_getFileExtension2=_interopRequireDefault(_getFileExtension),_extensionToMeshIO=require("../extensionToMeshIO"),_extensionToMeshIO2=_interopRequireDefault(_extensionToMeshIO),_MeshIOIndex=require("../MeshIOIndex"),_MeshIOIndex2=_interopRequireDefault(_MeshIOIndex),_loadEmscriptenModuleBrowser=require("../loadEmscriptenModuleBrowser"),_loadEmscriptenModuleBrowser2=_interopRequireDefault(_loadEmscriptenModuleBrowser),_readMeshEmscriptenFSFile=require("../readMeshEmscriptenFSFile"),_readMeshEmscriptenFSFile2=_interopRequireDefault(_readMeshEmscriptenFSFile),_writeMeshEmscriptenFSFile=require("../writeMeshEmscriptenFSFile"),_writeMeshEmscriptenFSFile2=_interopRequireDefault(_writeMeshEmscriptenFSFile),ioToModule={},readMesh=function(e){var r=(0,_getFileExtension2.default)(e.name),o=null;if(_MimeToMeshIO2.default.hasOwnProperty(e.type))o=_MimeToMeshIO2.default[e.type];else if(_extensionToMeshIO2.default.hasOwnProperty(r))o=_extensionToMeshIO2.default[r];else for(var i=0;i<_MeshIOIndex2.default.length;++i){var n=null,t=_MeshIOIndex2.default[i];t in ioToModule?n=ioToModule[t]:(ioToModule[t]=(0,_loadEmscriptenModuleBrowser2.default)(e.config.itkModulesPath,"MeshIOs",t),n=ioToModule[t]);var s=new n.ITKMeshIO,l=new Blob([e.data]),u=[{name:e.name,data:l}];n.mountBlobs("/work",u);var a="/work/"+e.name;if(s.SetFileName(a),s.CanReadFile(a)){o=t,n.unmountBlobs("/work");break}n.unmountBlobs("/work")}if(null===o)return ioToModule={},Promise.reject(new Error("Could not find IO for: "+e.name));var d=null;o in ioToModule?d=ioToModule[o]:(ioToModule[o]=(0,_loadEmscriptenModuleBrowser2.default)(e.config.itkModulesPath,"MeshIOs",o),d=ioToModule[o]);var M=new Blob([e.data]),f=[{name:e.name,data:M}];d.mountBlobs("/work",f);var h="/work/"+e.name,_=(0,_readMeshEmscriptenFSFile2.default)(d,h);d.unmountBlobs("/work");var m=[];return _.points.buffer&&m.push(_.points.buffer),_.pointData.buffer&&m.push(_.pointData.buffer),_.cells.buffer&&m.push(_.cells.buffer),_.cellData.buffer&&m.push(_.cellData.buffer),new _register2.default.TransferableResponse(_,m)},writeMesh=function(e){var r=(0,_getFileExtension2.default)(e.name),o=null;if(_MimeToMeshIO2.default.hasOwnProperty(e.type))o=_MimeToMeshIO2.default[e.type];else if(_extensionToMeshIO2.default.hasOwnProperty(r))o=_extensionToMeshIO2.default[r];else for(var i=0;i<_MeshIOIndex2.default.length;++i){var n=null,t=_MeshIOIndex2.default[i];t in ioToModule?n=ioToModule[t]:(ioToModule[t]=(0,_loadEmscriptenModuleBrowser2.default)(e.config.itkModulesPath,"MeshIOs",t),n=ioToModule[t]);var s=new n.ITKMeshIO,l="/work/"+e.name;if(s.SetFileName(l),s.CanWriteFile(l)){o=t;break}}if(null===o)return ioToModule={},Promise.reject(new Error("Could not find IO for: "+e.name));var u=null;o in ioToModule?u=ioToModule[o]:(ioToModule[o]=(0,_loadEmscriptenModuleBrowser2.default)(e.config.itkModulesPath,"MeshIOs",o),u=ioToModule[o]);var a="/work/"+e.name;u.mkdirs("/work"),(0,_writeMeshEmscriptenFSFile2.default)(u,{useCompression:e.useCompression,binaryFileType:e.binaryFileType},e.mesh,a);var d=u.readFile(a,{encoding:"binary"});return new _register2.default.TransferableResponse(d.buffer,[d.buffer])};(0,_register2.default)(function(e){return"readMesh"===e.operation?Promise.resolve(readMesh(e)):"writeMesh"===e.operation?Promise.resolve(writeMesh(e)):Promise.resolve(new Error("Unknown worker operation"))});

},{"../MeshIOIndex":6,"../MimeToMeshIO":8,"../extensionToMeshIO":11,"../getFileExtension":12,"../loadEmscriptenModuleBrowser":13,"../readMeshEmscriptenFSFile":18,"../writeMeshEmscriptenFSFile":19,"webworker-promise/lib/register":1}],11:[function(require,module,exports){
"use strict";var extensionToIO={};extensionToIO.vtk="itkVTKPolyDataMeshIOJSBinding",extensionToIO.VTK="itkVTKPolyDataMeshIOJSBinding",module.exports=extensionToIO;

},{}],12:[function(require,module,exports){
"use strict";var getFileExtension=function(e){var t=e.slice(2+(e.lastIndexOf(".")-1>>>0));if("gz"===t.toLowerCase()){var s=e.slice(0,-3).lastIndexOf(".");t=e.slice(2+(s-1>>>0))}return t};module.exports=getFileExtension;

},{}],13:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},loadEmscriptenModule=function(e,t,o){var r=e;"/"===e[0]||e.startsWith("http")||(r="..");var n=r+"/"+t+"/"+o+".js";return"object"===("undefined"==typeof WebAssembly?"undefined":_typeof(WebAssembly))&&"function"==typeof WebAssembly.Memory&&(n=r+"/"+t+"/"+o+"Wasm.js"),importScripts(n),Module};exports.default=loadEmscriptenModule;

},{}],14:[function(require,module,exports){
"use strict";var IntTypes=require("./IntTypes.js"),FloatTypes=require("./FloatTypes.js"),meshIOComponentToJSComponent=function(e,n){var t=null;switch(n){case e.IOComponentType.UCHAR:t=IntTypes.UInt8;break;case e.IOComponentType.CHAR:t=IntTypes.Int8;break;case e.IOComponentType.USHORT:t=IntTypes.UInt16;break;case e.IOComponentType.SHORT:t=IntTypes.Int16;break;case e.IOComponentType.UINT:t=IntTypes.UInt32;break;case e.IOComponentType.INT:t=IntTypes.Int32;break;case e.IOComponentType.ULONG:t=IntTypes.UInt64;break;case e.IOComponentType.LONG:t=IntTypes.Int64;break;case e.IOComponentType.ULONGLONG:t=IntTypes.UInt64;break;case e.IOComponentType.LONGLONG:t=IntTypes.Int64;break;case e.IOComponentType.FLOAT:t=FloatTypes.Float32;break;case e.IOComponentType.DOUBLE:t=FloatTypes.Float64;break;default:throw new Error("Unknown IO component type")}return t};module.exports=meshIOComponentToJSComponent;

},{"./FloatTypes.js":3,"./IntTypes.js":4}],15:[function(require,module,exports){
"use strict";var PixelTypes=require("./PixelTypes.js"),meshIOPixelTypeToJSPixelType=function(e,T){var i=null;switch(T){case e.IOPixelType.UNKNOWNPIXELTYPE:i=PixelTypes.Unknown;break;case e.IOPixelType.SCALAR:i=PixelTypes.Scalar;break;case e.IOPixelType.RGB:i=PixelTypes.RGB;break;case e.IOPixelType.RGBA:i=PixelTypes.RGBA;break;case e.IOPixelType.OFFSET:i=PixelTypes.Offset;break;case e.IOPixelType.VECTOR:i=PixelTypes.Vector;break;case e.IOPixelType.POINT:i=PixelTypes.Point;break;case e.IOPixelType.COVARIANTVECTOR:i=PixelTypes.CovariantVector;break;case e.IOPixelType.SYMMETRICSECONDRANKTENSOR:i=PixelTypes.SymmetricSecondRankTensor;break;case e.IOPixelType.DIFFUSIONTENSOR3D:i=PixelTypes.DiffusionTensor3D;break;case e.IOPixelType.COMPLEX:i=PixelTypes.Complex;break;case e.IOPixelType.FIXEDARRAY:i=PixelTypes.FixedArray;break;case e.IOPixelType.ARRAY:i=PixelTypes.Array;break;case e.IOPixelType.MATRIX:i=PixelTypes.Matrix;break;case e.IOPixelType.VARIABLELENGTHVECTOR:i=PixelTypes.VariableLengthVector;break;case e.IOPixelType.VARIABLESIZEMATRIX:i=PixelTypes.VariableSizeMatrix;break;default:throw new Error("Unknown IO pixel type")}return i};module.exports=meshIOPixelTypeToJSPixelType;

},{"./PixelTypes.js":9}],16:[function(require,module,exports){
"use strict";var IntTypes=require("./IntTypes.js"),FloatTypes=require("./FloatTypes.js"),meshJSComponentToIOComponent=function(e,n){var t=null;switch(n){case IntTypes.UInt8:t=e.IOComponentType.UCHAR;break;case IntTypes.Int8:t=e.IOComponentType.CHAR;break;case IntTypes.UInt16:t=e.IOComponentType.USHORT;break;case IntTypes.Int16:t=e.IOComponentType.SHORT;break;case IntTypes.UInt32:t=e.IOComponentType.UINT;break;case IntTypes.Int32:t=e.IOComponentType.INT;break;case IntTypes.UInt64:t=e.IOComponentType.ULONGLONG;break;case IntTypes.Int64:t=e.IOComponentType.LONGLONG;break;case FloatTypes.Float32:t=e.IOComponentType.FLOAT;break;case FloatTypes.Float64:t=e.IOComponentType.DOUBLE;break;default:throw new Error("Unknown IO component type")}return t};module.exports=meshJSComponentToIOComponent;

},{"./FloatTypes.js":3,"./IntTypes.js":4}],17:[function(require,module,exports){
"use strict";var PixelTypes=require("./PixelTypes.js"),meshJSPixelTypeToIOPixelType=function(e,T){var i=null;switch(T){case PixelTypes.Unknown:i=e.IOPixelType.UNKNOWNPIXELTYPE;break;case PixelTypes.Scalar:i=e.IOPixelType.SCALAR;break;case PixelTypes.RGB:i=e.IOPixelType.RGB;break;case PixelTypes.RGBA:i=e.IOPixelType.RGBA;break;case PixelTypes.Offset:i=e.IOPixelType.OFFSET;break;case PixelTypes.Vector:i=e.IOPixelType.VECTOR;break;case PixelTypes.Point:i=e.IOPixelType.POINT;break;case PixelTypes.CovariantVector:i=e.IOPixelType.COVARIANTVECTOR;break;case PixelTypes.SymmetricSecondRankTensor:i=e.IOPixelType.SYMMETRICSECONDRANKTENSOR;break;case PixelTypes.DiffusionTensor3D:i=e.IOPixelType.DIFFUSIONTENSOR3D;break;case PixelTypes.Complex:i=e.IOPixelType.COMPLEX;break;case PixelTypes.FixedArray:i=e.IOPixelType.FIXEDARRAY;break;case PixelTypes.Array:i=e.IOPixelType.ARRAY;break;case PixelTypes.Matrix:i=e.IOPixelType.MATRIX;break;case PixelTypes.VariableLengthVector:i=e.IOPixelType.VARIABLELENGTHVECTOR;break;case PixelTypes.VariableSizeMatrix:i=e.IOPixelType.VARIABLESIZEMATRIX;break;default:throw new Error("Unknown IO pixel type")}return i};module.exports=meshJSPixelTypeToIOPixelType;

},{"./PixelTypes.js":9}],18:[function(require,module,exports){
"use strict";var Mesh=require("./Mesh.js"),MeshType=require("./MeshType.js"),meshIOComponentToJSComponent=require("./meshIOComponentToJSComponent.js"),meshIOPixelTypeToJSPixelType=require("./meshIOPixelTypeToJSPixelType.js"),readMeshEmscriptenFSFile=function(e,n){var o=new e.ITKMeshIO;if(o.SetFileName(n),!o.CanReadFile(n))throw new Error("Could not read file: "+n);o.ReadMeshInformation();var l=o.GetPointDimension(),t=new MeshType(l),i=o.GetPointComponentType();t.pointComponentType=meshIOComponentToJSComponent(e,i);var s=o.GetCellComponentType();t.cellComponentType=meshIOComponentToJSComponent(e,s);var r=o.GetPointPixelType();t.pointPixelType=meshIOPixelTypeToJSPixelType(e,r),t.pointPixelComponents=o.GetNumberOfPointPixelComponents();var m=o.GetCellPixelType();t.cellPixelType=meshIOPixelTypeToJSPixelType(e,m),t.cellPixelComponents=o.GetNumberOfCellPixelComponents();var p=new Mesh(t);return p.numberOfPoints=o.GetNumberOfPoints(),p.numberOfPoints>0&&(p.points=o.ReadPoints()),p.numberOfCells=o.GetNumberOfCells(),p.numberOfCells>0&&(p.cells=o.ReadCells()),p.numberofPointPixels=o.GetNumberOfPointPixels(),p.numberOfPointPixels>0&&(p.pointData=o.ReadPointData()),p.numberofCellPixels=o.GetNumberOfCellPixels(),p.numberOfCellPixels>0&&(p.cellData=o.ReadCellData(),p.cellBufferSize=o.GetCellBufferSize()),p};module.exports=readMeshEmscriptenFSFile;

},{"./Mesh.js":5,"./MeshType.js":7,"./meshIOComponentToJSComponent.js":14,"./meshIOPixelTypeToJSPixelType.js":15}],19:[function(require,module,exports){
"use strict";var meshJSComponentToIOComponent=require("./meshJSComponentToIOComponent.js"),meshJSPixelTypeToIOPixelType=require("./meshJSPixelTypeToIOPixelType.js"),writeMeshEmscriptenFSFile=function(e,t,n,i){var l=t.useCompression,r=t.binaryFileType,o=new e.ITKMeshIO;if(o.SetFileName(i),!o.CanWriteFile(i))throw new Error("Could not write file: "+i);var s=n.meshType.dimension;o.SetPointDimension(s);var f=meshJSComponentToIOComponent(e,n.meshType.pointComponentType);o.SetPointComponentType(f);var m=meshJSComponentToIOComponent(e,n.meshType.cellComponentType);o.SetCellComponentType(m);var p=meshJSPixelTypeToIOPixelType(e,n.meshType.pointPixelType);o.SetPointPixelType(p),o.SetNumberOfPointPixelComponents(n.meshType.pointPixelComponents);var a=meshJSPixelTypeToIOPixelType(e,n.meshType.cellPixelType);if(o.SetCellPixelType(a),o.SetNumberOfCellPixelComponents(n.meshType.cellPixelComponents),o.SetUseCompression(!!l),r?o.SetFileType(e.FileType.BINARY):o.SetFileType(e.FileType.ASCII),o.SetByteOrder(e.ByteOrder.LittleEndian),o.SetNumberOfPoints(n.numberOfPoints),n.numberOfPoints>0&&o.SetUpdatePoints(!0),o.SetNumberOfPointPixels(n.numberOfPointPixels),n.numberOfPointPixels>0&&o.SetUpdatePointData(!0),o.SetNumberOfCells(n.numberOfCells),n.numberOfCells>0&&o.SetUpdateCells(!0),o.SetNumberOfCellPixels(n.numberOfCellPixels),o.SetCellBufferSize(n.cellBufferSize),n.numberOfCellPixels>0&&o.SetUpdatePointData(!0),o.WriteMeshInformation(),n.numberOfPoints>0){var P=n.points.length*n.points.BYTES_PER_ELEMENT,y=e._malloc(P),T=new Uint8Array(e.HEAPU8.buffer,y,P);T.set(new Uint8Array(n.points.buffer)),o.WritePoints(T.byteOffset),e._free(T.byteOffset)}if(n.numberOfCells>0){var S=n.cells.length*n.cells.BYTES_PER_ELEMENT,O=e._malloc(S),C=new Uint8Array(e.HEAPU8.buffer,O,S);C.set(new Uint8Array(n.cells.buffer)),o.WriteCells(C.byteOffset),e._free(C.byteOffset)}if(n.numberOfPointPixels>0){var b=n.pointData.length*n.pointData.BYTES_PER_ELEMENT,u=e._malloc(b),E=new Uint8Array(e.HEAPU8.buffer,u,b);E.set(new Uint8Array(n.pointData.buffer)),o.WritePointData(E.byteOffset),e._free(E.byteOffset)}if(n.numberOfCellPixels>0){var x=n.cellData.length*n.cellData.BYTES_PER_ELEMENT,h=e._malloc(x),c=new Uint8Array(e.HEAPU8.buffer,h,x);c.set(new Uint8Array(n.cellData.buffer)),o.WriteCellData(c.byteOffset),e._free(c.byteOffset)}o.Write()};module.exports=writeMeshEmscriptenFSFile;

},{"./meshJSComponentToIOComponent.js":16,"./meshJSPixelTypeToIOPixelType.js":17}]},{},[10]);
